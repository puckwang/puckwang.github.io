{{ define "head" }}
  {{ if .IsHome }}
    <style type="text/css">
      .feature-image {
        background-image: linear-gradient(
            rgba(0, 0, 0, 0.15),
            rgba(0, 0, 0, 0.15)
          ), url('{{ "images/hero-main.jpg" | absURL }}');
          height: 500px;
      }

      .feature-image-text {
          margin-top: 20px;
      }

      @media (min-width: 1200px) {
        .feature-image {
            background-position: 0% 30%;
        }
      }

      @media (max-width: 768px) {
        .feature-image {
            height: 250px;
            background-position: 0% 0%;
        }
      }
    </style>
  {{ else }}
    <style type="text/css">
      .feature-image {
        background-color: #F8F8F8;;
        border-bottom: 1px dotted #BBB;
        height: 150px;
      }
    </style>
  {{ end }}
{{ end }}
{{ define "header" }}
    <header class="feature-image">
        <div class="feature-image-text">
            <h1 class="text-center">{{ .Title }}</h1>

            {{ $title := urlize .Title }}
            {{ with .Site.Taxonomies.categories }}
              {{ range $name, $taxonomy := . }}
                {{ $term := urlize $name }}
                {{ if eq $term $title }}
                  A {{ $taxonomy.Count }}-post collection
                {{ end }}
              {{ end }}
            {{ end }}


            {{ $title := urlize .Title }}
            {{ with .Site.Taxonomies.tags }}
              {{ range $name, $taxonomy := . }}
                {{ $term := urlize $name }}
                {{ if eq $term $title }}
                  A {{ $taxonomy.Count }}-post collection
                {{ end }}
              {{ end }}
            {{ end }}
        </div>
    </header>
{{ end }}
{{ define "main" }}
  <div class="container mt-4 mb-4 recent-posts">
    {{- $data := .Data }}
    <div class="d-flex flex-row flex-wrap">
    {{ range .Data.Terms.ByCount }}
        <div>
            <a href='{{ $.Site.BaseURL}}{{ $data.Plural }}/{{ (replace .Name "#" "%23") | urlize }}/' class="nav-link">
              {{ .Name }}
              <span class="badge badge-pill badge-secondary">{{ .Count }}</span>
            </a>
        </div>
    {{ end }}
    </div>
  </div>
{{ partial "sidebar" . }}
{{ end }}



